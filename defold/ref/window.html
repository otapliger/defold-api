<html><head><link rel='stylesheet' type='text/css' href='../defold.css'></head><body><div class='nav'><a class='chevron' href='../index.html'><img src='../svg/chevron-left.svg' alt='Home'></a></div><h1>Window</h1>
<p><p>Functions and constants to access the window, window event listeners
and screen dimming.</p></p>
<h1><a name='//apple_ref/cpp/Variable/window.DIMMING_OFF' class='dashAnchor'></a><a class='entry' name='window.DIMMING_OFF'>window.DIMMING_OFF</a></h1><div class='brief'><p>dimming mode off</p></div><p><p>Dimming mode is used to control whether or not a mobile device should dim the screen after a period without user interaction.</p></p><hr/><h1><a name='//apple_ref/cpp/Variable/window.DIMMING_ON' class='dashAnchor'></a><a class='entry' name='window.DIMMING_ON'>window.DIMMING_ON</a></h1><div class='brief'><p>dimming mode on</p></div><p><p>Dimming mode is used to control whether or not a mobile device should dim the screen after a period without user interaction.</p></p><hr/><h1><a name='//apple_ref/cpp/Variable/window.DIMMING_UNKNOWN' class='dashAnchor'></a><a class='entry' name='window.DIMMING_UNKNOWN'>window.DIMMING_UNKNOWN</a></h1><div class='brief'><p>dimming mode unknown</p></div><p><p>Dimming mode is used to control whether or not a mobile device should dim the screen after a period without user interaction.
This mode indicates that the dim mode can't be determined, or that the platform doesn't support dimming.</p></p><hr/><h1><a name='//apple_ref/cpp/Variable/window.WINDOW_EVENT_FOCUS_GAINED' class='dashAnchor'></a><a class='entry' name='window.WINDOW_EVENT_FOCUS_GAINED'>window.WINDOW_EVENT_FOCUS_GAINED</a></h1><div class='brief'><p>focus gained window event</p></div><p><p>This event is sent to a window event listener when the game window or app screen has
gained focus.
This event is also sent at game startup and the engine gives focus to the game.</p></p><hr/><h1><a name='//apple_ref/cpp/Variable/window.WINDOW_EVENT_FOCUS_LOST' class='dashAnchor'></a><a class='entry' name='window.WINDOW_EVENT_FOCUS_LOST'>window.WINDOW_EVENT_FOCUS_LOST</a></h1><div class='brief'><p>focus lost window event</p></div><p><p>This event is sent to a window event listener when the game window or app screen has lost focus.</p></p><hr/><h1><a name='//apple_ref/cpp/Variable/window.WINDOW_EVENT_RESIZED' class='dashAnchor'></a><a class='entry' name='window.WINDOW_EVENT_RESIZED'>window.WINDOW_EVENT_RESIZED</a></h1><div class='brief'><p>resized window event</p></div><p><p>This event is sent to a window event listener when the game window or app screen is resized.
The new size is passed along in the data field to the event listener.</p></p><hr/><h1><a name='//apple_ref/cpp/Function/window.get_dim_mode' class='dashAnchor'></a><a class='entry' name='window.get_dim_mode'>window.get_dim_mode()</a></h1><div class='brief'><p>get the mode for screen dimming</p></div><p><p><span class="icon-ios"></span> <span class="icon-android"></span> Returns the current dimming mode set on a mobile device.</p>
<p>The dimming mode specifies whether or not a mobile device should dim the screen after a period without user interaction.</p>
<p>On platforms that does not support dimming, <code>window.DIMMING_UNKNOWN</code> is always returned.</p></p><h3>RETURN</h3><div class='return'><p>mode - <p><span class="type">constant</span> The mode for screen dimming</p>
<ul>
<li><code>window.DIMMING_UNKNOWN</code></li>
<li><code>window.DIMMING_ON</code></li>
<li><code>window.DIMMING_OFF</code></li>
</ul></p></div><hr/><h1><a name='//apple_ref/cpp/Function/window.set_dim_mode' class='dashAnchor'></a><a class='entry' name='window.set_dim_mode'>window.set_dim_mode()</a></h1><div class='brief'><p>set the mode for screen dimming</p></div><p><p><span class="icon-ios"></span> <span class="icon-android"></span> Sets the dimming mode on a mobile device.</p>
<p>The dimming mode specifies whether or not a mobile device should dim the screen after a period without user interaction. The dimming mode will only affect the mobile device while the game is in focus on the device, but not when the game is running in the background.</p>
<p>This function has no effect on platforms that does not support dimming.</p></p><h3>PARAMETERS</h3><div class='params'><p class='param'>mode<p><span class="type">constant</span> The mode for screen dimming</p>
<ul>
<li><code>window.DIMMING_ON</code></li>
<li><code>window.DIMMING_OFF</code></li>
</ul></p></div><hr/><h1><a name='//apple_ref/cpp/Function/window.set_listener' class='dashAnchor'></a><a class='entry' name='window.set_listener'>window.set_listener()</a></h1><div class='brief'><p>sets a window event listener</p></div><p><p>Sets a window event listener.</p></p><h3>PARAMETERS</h3><div class='params'><p class='param'>callback<p><span class="type">function(self, event, data)</span> A callback which receives info about window events. Pass an empty function if you no longer wish to receive callbacks.</p>
<dl>
<dt><code>self</code></dt>
<dd><span class="type">object</span> The calling script</dd>
<dt><code>event</code></dt>
<dd><span class="type">constant</span> The type of event. Can be one of these:</dd>
</dl>
<ul>
<li><code>window.WINDOW_EVENT_FOCUS_LOST</code></li>
<li><code>window.WINDOW_EVENT_FOCUS_GAINED</code></li>
<li><code>window.WINDOW_EVENT_RESIZED</code></li>
</ul>
<dl>
<dt><code>data</code></dt>
<dd><span class="type">table</span> The callback value <code>data</code> is a table which currently holds these values</dd>
</dl>
<ul>
<li><span class="type">number</span> <code>width</code>: The width of a resize event. nil otherwise.</li>
<li><span class="type">number</span> <code>height</code>: The height of a resize event. nil otherwise.</li>
</ul></p></div><h3>EXAMPLES</h3><div class='examples'><p><div class="codehilite"><pre><span></span><span class="k">function</span> <span class="nf">window_callback</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">event</span> <span class="o">==</span> <span class="n">window</span><span class="p">.</span><span class="n">WINDOW_EVENT_FOCUS_LOST</span> <span class="k">then</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">window.WINDOW_EVENT_FOCUS_LOST&quot;</span><span class="p">)</span>
    <span class="k">elseif</span> <span class="n">event</span> <span class="o">==</span> <span class="n">window</span><span class="p">.</span><span class="n">WINDOW_EVENT_FOCUS_GAINED</span> <span class="k">then</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">window.WINDOW_EVENT_FOCUS_GAINED&quot;</span><span class="p">)</span>
    <span class="k">elseif</span> <span class="n">event</span> <span class="o">==</span> <span class="n">window</span><span class="p">.</span><span class="n">WINDOW_EVENT_RESIZED</span> <span class="k">then</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">Window resized: &quot;</span><span class="p">,</span> <span class="n">data</span><span class="p">.</span><span class="n">width</span><span class="p">,</span> <span class="n">data</span><span class="p">.</span><span class="n">height</span><span class="p">)</span>
    <span class="k">end</span>
<span class="k">end</span>

<span class="k">function</span> <span class="nf">init</span><span class="p">(</span><span class="n">self</span><span class="p">)</span>
    <span class="n">window</span><span class="p">.</span><span class="n">set_listener</span><span class="p">(</span><span class="n">window_callback</span><span class="p">)</span>
<span class="k">end</span>
</pre></div></p></div><hr/></body></html>