<html><head><link rel='stylesheet' type='text/css' href='../defold.css'></head><body><div class='nav'><a class='chevron' href='../index.html'><img src='../svg/chevron-left.svg' alt='Home'></a></div><h1>Crash</h1>
<p><p>Native crash logging functions and constants.</p></p>
<h1><a name='//apple_ref/cpp/Variable/crash.SYSFIELD_ANDROID_BUILD_FINGERPRINT' class='dashAnchor'></a><a class='entry' name='crash.SYSFIELD_ANDROID_BUILD_FINGERPRINT'>crash.SYSFIELD_ANDROID_BUILD_FINGERPRINT</a></h1><div class='brief'><p>android build fingerprint</p></div><hr/><h1><a name='//apple_ref/cpp/Variable/crash.SYSFIELD_DEVICE_LANGUAGE' class='dashAnchor'></a><a class='entry' name='crash.SYSFIELD_DEVICE_LANGUAGE'>crash.SYSFIELD_DEVICE_LANGUAGE</a></h1><div class='brief'><p>system device language as reported by sys.get_sys_info</p></div><hr/><h1><a name='//apple_ref/cpp/Variable/crash.SYSFIELD_DEVICE_MODEL' class='dashAnchor'></a><a class='entry' name='crash.SYSFIELD_DEVICE_MODEL'>crash.SYSFIELD_DEVICE_MODEL</a></h1><div class='brief'><p>device model as reported by sys.get_sys_info</p></div><hr/><h1><a name='//apple_ref/cpp/Variable/crash.SYSFIELD_ENGINE_HASH' class='dashAnchor'></a><a class='entry' name='crash.SYSFIELD_ENGINE_HASH'>crash.SYSFIELD_ENGINE_HASH</a></h1><div class='brief'><p>engine version as hash</p></div><hr/><h1><a name='//apple_ref/cpp/Variable/crash.SYSFIELD_ENGINE_VERSION' class='dashAnchor'></a><a class='entry' name='crash.SYSFIELD_ENGINE_VERSION'>crash.SYSFIELD_ENGINE_VERSION</a></h1><div class='brief'><p>engine version as release number</p></div><hr/><h1><a name='//apple_ref/cpp/Variable/crash.SYSFIELD_LANGUAGE' class='dashAnchor'></a><a class='entry' name='crash.SYSFIELD_LANGUAGE'>crash.SYSFIELD_LANGUAGE</a></h1><div class='brief'><p>system language as reported by sys.get_sys_info</p></div><hr/><h1><a name='//apple_ref/cpp/Variable/crash.SYSFIELD_MANUFACTURER' class='dashAnchor'></a><a class='entry' name='crash.SYSFIELD_MANUFACTURER'>crash.SYSFIELD_MANUFACTURER</a></h1><div class='brief'><p>device manufacturer as reported by sys.get_sys_info</p></div><hr/><h1><a name='//apple_ref/cpp/Variable/crash.SYSFIELD_MAX' class='dashAnchor'></a><a class='entry' name='crash.SYSFIELD_MAX'>crash.SYSFIELD_MAX</a></h1><div class='brief'><p>The max number of sysfields.</p></div><hr/><h1><a name='//apple_ref/cpp/Variable/crash.SYSFIELD_SYSTEM_NAME' class='dashAnchor'></a><a class='entry' name='crash.SYSFIELD_SYSTEM_NAME'>crash.SYSFIELD_SYSTEM_NAME</a></h1><div class='brief'><p>system name as reported by sys.get_sys_info</p></div><hr/><h1><a name='//apple_ref/cpp/Variable/crash.SYSFIELD_SYSTEM_VERSION' class='dashAnchor'></a><a class='entry' name='crash.SYSFIELD_SYSTEM_VERSION'>crash.SYSFIELD_SYSTEM_VERSION</a></h1><div class='brief'><p>system version as reported by sys.get_sys_info</p></div><hr/><h1><a name='//apple_ref/cpp/Variable/crash.SYSFIELD_TERRITORY' class='dashAnchor'></a><a class='entry' name='crash.SYSFIELD_TERRITORY'>crash.SYSFIELD_TERRITORY</a></h1><div class='brief'><p>system territory as reported by sys.get_sys_info</p></div><hr/><h1><a name='//apple_ref/cpp/Variable/crash.USERFIELD_MAX' class='dashAnchor'></a><a class='entry' name='crash.USERFIELD_MAX'>crash.USERFIELD_MAX</a></h1><div class='brief'><p>The max number of user fields.</p></div><hr/><h1><a name='//apple_ref/cpp/Variable/crash.USERFIELD_SIZE' class='dashAnchor'></a><a class='entry' name='crash.USERFIELD_SIZE'>crash.USERFIELD_SIZE</a></h1><div class='brief'><p>The max size of a single user field.</p></div><hr/><h1><a name='//apple_ref/cpp/Function/crash.get_backtrace' class='dashAnchor'></a><a class='entry' name='crash.get_backtrace'>crash.get_backtrace()</a></h1><div class='brief'><p>read backtrace recorded in a loaded crash dump</p></div><p><p>A table is returned containing the addresses of the call stack.</p></p><h3>PARAMETERS</h3><div class='params'><p class='param'>handle<p><span class="type">number</span> crash dump handle</p></p></div><h3>RETURN</h3><div class='return'><p>backtrace - <p><span class="type">table</span> table containing the backtrace</p></p></div><hr/><h1><a name='//apple_ref/cpp/Function/crash.get_extra_data' class='dashAnchor'></a><a class='entry' name='crash.get_extra_data'>crash.get_extra_data()</a></h1><div class='brief'><p>read text blob recorded in a crash dump</p></div><p><p>The format of read text blob is platform specific
and not guaranteed
but can be useful for manual inspection.</p></p><h3>PARAMETERS</h3><div class='params'><p class='param'>handle<p><span class="type">number</span> crash dump handle</p></p></div><h3>RETURN</h3><div class='return'><p>blob - <p><span class="type">string</span> string with the platform specific data</p></p></div><hr/><h1><a name='//apple_ref/cpp/Function/crash.get_modules' class='dashAnchor'></a><a class='entry' name='crash.get_modules'>crash.get_modules()</a></h1><div class='brief'><p>get all loaded modules from when the crash occured</p></div><p><p>The function returns a table containing entries with sub-tables that
have fields 'name' and 'address' set for all loaded modules.</p></p><h3>PARAMETERS</h3><div class='params'><p class='param'>handle<p><span class="type">number</span> crash dump handle</p></p></div><h3>RETURN</h3><div class='return'><p>modules - <p><span class="type">table</span> module table</p></p></div><hr/><h1><a name='//apple_ref/cpp/Function/crash.get_signum' class='dashAnchor'></a><a class='entry' name='crash.get_signum'>crash.get_signum()</a></h1><div class='brief'><p>read signal number from a crash report</p></div><h3>PARAMETERS</h3><div class='params'><p class='param'>handle<p><span class="type">number</span> crash dump handle</p></p></div><h3>RETURN</h3><div class='return'><p>signal - <p><span class="type">number</span> signal number</p></p></div><hr/><h1><a name='//apple_ref/cpp/Function/crash.get_sys_field' class='dashAnchor'></a><a class='entry' name='crash.get_sys_field'>crash.get_sys_field()</a></h1><div class='brief'><p>reads a system field from a loaded crash dump</p></div><h3>PARAMETERS</h3><div class='params'><p class='param'>handle<p><span class="type">number</span> crash dump handle</p></p><p class='param'>index<p><span class="type">number</span> system field enum. Must be less than <a href="http://www.defold.com/ref/crash#crash.SYSFIELD_MAX">crash.SYSFIELD_MAX</a></p></p></div><h3>RETURN</h3><div class='return'><p>value - <p><span class="type">string</span> value recorded in the crash dump, or nil if it didn't exist</p></p></div><hr/><h1><a name='//apple_ref/cpp/Function/crash.get_user_field' class='dashAnchor'></a><a class='entry' name='crash.get_user_field'>crash.get_user_field()</a></h1><div class='brief'><p>reads user field from a loaded crash dump</p></div><h3>PARAMETERS</h3><div class='params'><p class='param'>handle<p><span class="type">number</span> crash dump handle</p></p><p class='param'>index<p><span class="type">number</span> user data slot index</p></p></div><h3>RETURN</h3><div class='return'><p>value - <p><span class="type">string</span> user data value recorded in the crash dump</p></p></div><hr/><h1><a name='//apple_ref/cpp/Function/crash.load_previous' class='dashAnchor'></a><a class='entry' name='crash.load_previous'>crash.load_previous()</a></h1><div class='brief'><p>loads a previously written crash dump</p></div><p><p>The crash dump will be removed from disk upon a successful
load, so loading is one-shot.</p></p><h3>RETURN</h3><div class='return'><p>handle - <p><span class="type">number</span> handle to the loaded dump, or nil if no dump was found</p></p></div><hr/><h1><a name='//apple_ref/cpp/Function/crash.release' class='dashAnchor'></a><a class='entry' name='crash.release'>crash.release()</a></h1><div class='brief'><p>releases a previously loaded crash dump</p></div><h3>PARAMETERS</h3><div class='params'><p class='param'>handle<p><span class="type">number</span> handle to loaded crash dump</p></p></div><hr/><h1><a name='//apple_ref/cpp/Function/crash.set_file_path' class='dashAnchor'></a><a class='entry' name='crash.set_file_path'>crash.set_file_path()</a></h1><div class='brief'><p>sets the file location for crash dumps</p></div><p><p>Crashes occuring before the path is set will be stored to a default engine location.</p></p><h3>PARAMETERS</h3><div class='params'><p class='param'>path<p><span class="type">string</span> file path to use</p></p></div><hr/><h1><a name='//apple_ref/cpp/Function/crash.set_user_field' class='dashAnchor'></a><a class='entry' name='crash.set_user_field'>crash.set_user_field()</a></h1><div class='brief'><p>stores user-defined string value</p></div><p><p>Store a user value that will get written to a crash dump when
a crash occurs. This can be user id:s, breadcrumb data etc.
There are 32 slots indexed from 0. Each slot stores at most 255 characters.</p></p><h3>PARAMETERS</h3><div class='params'><p class='param'>index<p><span class="type">number</span> slot index. 0-indexed</p></p><p class='param'>value<p><span class="type">string</span> string value to store</p></p></div><hr/><h1><a name='//apple_ref/cpp/Function/crash.write_dump' class='dashAnchor'></a><a class='entry' name='crash.write_dump'>crash.write_dump()</a></h1><div class='brief'><p>writes crash dump</p></div><p><p>Performs the same steps as if a crash had just occured but
allows the program to continue.
The generated dump can be read by crash.load_previous</p></p><hr/></body></html>