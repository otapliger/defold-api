<html><head><link rel='stylesheet' type='text/css' href='../defold.css'></head><body><div class='nav'><a class='chevron' href='../index.html'><img src='../svg/chevron-left.svg' alt='Home'></a></div><h1>Json</h1>
<p><p><span class="file">&lt;dmsdk/dlib/json.h&gt;</span></p>
<p>API for platform independent parsing of json files</p></p>
<h1><a name='//apple_ref/cpp/Function/Free' class='dashAnchor'></a><a class='entry' name='Free'>Free()</a></h1><div class='brief'><p>deallocates json document</p></div><p><p>Deallocates a previously created dmJson::Document</p></p><h3>PARAMETERS</h3><div class='params'><p class='param'>document<p><span class="type">dmJson::Document*</span> The document</p></p></div><hr/><h1><a name='//apple_ref/cpp/Function/Parse' class='dashAnchor'></a><a class='entry' name='Parse'>Parse()</a></h1><div class='brief'><p>parse json data</p></div><p><p>Parses an (utf-8) string into a dmJson::Document
The document must later be freed with dmJson::Free()</p></p><h3>PARAMETERS</h3><div class='params'><p class='param'>buffer<p><span class="type">const char*</span> The input data (Utf-8)</p></p><p class='param'>buffer_length<p><span class="type">uint32_t</span> The size of the json buffer (in bytes)</p></p><p class='param'>document<p><span class="type">dmJson::Document*</span> The output document</p></p></div><h3>RETURN</h3><div class='return'><p>dmJson::RESULT_OK - <p>on success</p></p></div><hr/><h1><a name='//apple_ref/cpp/Function/Parse' class='dashAnchor'></a><a class='entry' name='Parse'>Parse()</a></h1><div class='brief'><p>parse json data</p></div><p><p>Parses a null terminated (utf-8) string into a dmJson::Document
The document must later be freed with dmJson::Free()</p></p><h3>PARAMETERS</h3><div class='params'><p class='param'>buffer<p><span class="type">const char*</span> The input data (Utf-8)</p></p><p class='param'>document<p><span class="type">dmJson::Document*</span> The output document</p></p></div><h3>RETURN</h3><div class='return'><p>dmJson::RESULT_OK - <p>on success</p></p></div><hr/><h1><a name='//apple_ref/cpp/Function/dmJson::Document' class='dashAnchor'></a><a class='entry' name='dmJson::Document'>dmJson::Document()</a></h1><div class='brief'><p>Json document</p></div><p><p>Holds a full json document</p></p><h3>MEMBERS</h3><div class='params'><p class='param'>m_Nodes - <p><span class="type">dmJson::Node</span> Array of nodes. First node is root</p></p><p class='param'>m_NodeCount - <p><span class="type">int</span> Total number of nodes</p></p><p class='param'>m_Json - <p><span class="type">char*</span> Json-data (unescaped)</p></p><p class='param'>m_UserData - <p><span class="type">void*</span> User-data</p></p></div><hr/><h1><a name='//apple_ref/cpp/Function/dmJson::Node' class='dashAnchor'></a><a class='entry' name='dmJson::Node'>dmJson::Node()</a></h1><div class='brief'><p>Json node representation.</p></div><p><p>Nodes are in depth-first order with sibling
links for simplified traversal.</p>
<p>NOTE: Siblings were added to support a read-only
lua-view of json-data. It's currently not used and
could potentially be removed for increased performance.</p></p><h3>MEMBERS</h3><div class='params'><p class='param'>m_Type - <p><span class="type">dmJson::Type</span> Node type</p></p><p class='param'>m_Start - <p><span class="type">int</span> Start index inclusive into document json-data</p></p><p class='param'>m_End - <p><span class="type">int</span> End index exclusive into document json-data</p></p><p class='param'>m_Size - <p><span class="type">int</span> Size. Only applicable for arrays and objects</p></p><p class='param'>m_Sibling - <p><span class="type">int</span> Sibling index. -1 if no sibling</p></p></div><hr/><h1><a name='//apple_ref/cpp/Enum/dmJson::Result' class='dashAnchor'></a><a class='entry' name='dmJson::Result'>dmJson::Result</a></h1><div class='brief'><p>result enumeration</p></div><p><p>Result enumeration.</p></p><h3>MEMBERS</h3><div class='params'><p class='param'>dmJson::RESULT_OK - </p><p class='param'>dmJson::RESULT_SYNTAX_ERROR - </p><p class='param'>dmJson::RESULT_INCOMPLETE - </p><p class='param'>dmJson::RESULT_UNKNOWN - </p></div><hr/><h1><a name='//apple_ref/cpp/Enum/dmJson::Type' class='dashAnchor'></a><a class='entry' name='dmJson::Type'>dmJson::Type</a></h1><div class='brief'><p>token type enumeration</p></div><p><p>Token type enumeration.</p></p><h3>MEMBERS</h3><div class='params'><p class='param'>dmJson::TYPE_PRIMITIVE - <p>Number or boolean</p></p><p class='param'>dmJson::TYPE_OBJECT - <p>Json object</p></p><p class='param'>dmJson::TYPE_ARRAY - <p>Json array</p></p><p class='param'>dmJson::TYPE_STRING - <p>String</p></p></div><hr/></body></html>