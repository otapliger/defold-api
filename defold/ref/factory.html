<html><head><link rel='stylesheet' type='text/css' href='../defold.css'></head><body><div class='nav'><a class='chevron' href='../index.html'><img src='../svg/chevron-left.svg' alt='Home'></a></div><h1>Factory</h1>
<p><p>Functions for controlling factory components which are used to
dynamically spawn game objects into the runtime.</p></p>
<h1><a name='//apple_ref/cpp/Function/factory.create' class='dashAnchor'></a><a class='entry' name='factory.create'>factory.create()</a></h1><div class='brief'><p>make a factory create a new game object</p></div><p><p>The URL identifies which factory should create the game object.
If the game object is created inside of the frame (e.g. from an update callback), the game object will be created instantly, but none of its component will be updated in the same frame.</p>
<p>Properties defined in scripts in the created game object can be overridden through the properties-parameter below.
See go.property for more information on script properties.</p></p><h3>PARAMETERS</h3><div class='params'><p class='param'>url<p><span class="type">string | hash | url</span> the factory that should create a game object.</p></p><p class='param'>[position]<p><span class="type">vector3</span> the position of the new game object, the position of the game object calling <code>factory.create()</code> is used by default.</p></p><p class='param'>[rotation]<p><span class="type">quaternion</span> the rotation of the new game object, the rotation of the game object calling <code>factory.create()</code> is is used by default.</p></p><p class='param'>[properties]<p><span class="type">table</span> the properties defined in a script attached to the new game object.</p></p><p class='param'>[scale]<p><span class="type">number | vector3</span> the scale of the new game object (must be greater than 0), the scale of the game object containing the factory is used by default</p></p></div><h3>RETURN</h3><div class='return'><p>id - <p><span class="type">hash</span> the global id of the spawned game object</p></p></div><h3>EXAMPLES</h3><div class='examples'><p><p>How to create a new game object:</p>
<div class="codehilite"><pre><span></span><span class="k">function</span> <span class="nf">init</span><span class="p">(</span><span class="n">self</span><span class="p">)</span>
    <span class="c1">-- create a new game object and provide property values</span>
    <span class="n">self</span><span class="p">.</span><span class="n">my_created_object</span> <span class="o">=</span> <span class="n">factory</span><span class="p">.</span><span class="n">create</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">#factory&quot;</span><span class="p">,</span> <span class="kc">nil</span><span class="p">,</span> <span class="kc">nil</span><span class="p">,</span> <span class="p">{</span><span class="n">my_value</span> <span class="o">=</span> <span class="mi">1</span><span class="p">})</span>
    <span class="c1">-- communicate with the object</span>
    <span class="n">msg</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">my_created_object</span><span class="p">,</span> <span class="s2">&quot;</span><span class="s">hello&quot;</span><span class="p">)</span>
<span class="k">end</span>
</pre></div>


<p>And then let the new game object have a script attached:</p>
<div class="codehilite"><pre><span></span><span class="n">go</span><span class="p">.</span><span class="n">property</span><span class="p">(</span><span class="s2">&quot;</span><span class="s">my_value&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

<span class="k">function</span> <span class="nf">init</span><span class="p">(</span><span class="n">self</span><span class="p">)</span>
    <span class="c1">-- do something with self.my_value which is now one</span>
<span class="k">end</span>
</pre></div></p></div><hr/></body></html>